<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cart ‚Äî Signature Look</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="header">
    <div class="logo">Signature Look</div>
    <div class="nav">
      <a href="index.html">Home</a>
      <a href="shop.html">Shop</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
      <a href="wishlist.html" class="icon-link">‚ù§Ô∏è <span id="wishCount" class="count-badge">0</span></a>
      <a href="cart.html" class="icon-link">üõí <span id="cartCount" class="count-badge">0</span></a>
    </div>
  </div>

  <div class="container">
    <h2>Your Cart</h2>
    <div id="cartItems">
      <!-- Cart items will be displayed here -->
    </div>

    <div id="cartTotal" style="margin-top:20px; font-weight:bold;"></div>

    <button id="checkoutBtn" class="btn" style="margin-top:10px;">Proceed to Checkout</button>
  </div>

  <div class="footer">
    ¬© 2025 Signature Look ‚Äî All Rights Reserved
  </div>

  <script>
    // Load cart from localStorage
    let cart = JSON.parse(localStorage.getItem("cart") || "[]");

    const cartItemsDiv = document.getElementById("cartItems");
    const cartTotalDiv = document.getElementById("cartTotal");

    function updateCartDisplay() {
      cartItemsDiv.innerHTML = ""; // clear existing items
      let total = 0;

      if(cart.length === 0) {
        cartItemsDiv.innerHTML = "<p>Your cart is empty.</p>";
        cartTotalDiv.innerText = "";
        return;
      }

      cart.forEach((item, index) => {
        const itemDiv = document.createElement("div");
        itemDiv.className = "cart-item";
        itemDiv.style.borderBottom = "1px solid #ccc";
        itemDiv.style.padding = "10px 0";
        itemDiv.innerHTML = `
          <img src="${item.img}" alt="${item.name}" style="width:80px; height:80px; object-fit:cover;">
          <span style="margin-left:10px;">${item.name}</span>
          <span style="margin-left:10px;">‚Çπ${item.price}</span>
          <input type="number" min="1" value="${item.quantity}" style="width:50px; margin-left:10px;" id="qty-${index}">
          <button style="margin-left:10px;" id="remove-${index}">Remove</button>
        `;
        cartItemsDiv.appendChild(itemDiv);

        total += item.price * item.quantity;

        // Quantity change listener
        document.getElementById(`qty-${index}`).addEventListener("change", (e) => {
          let val = parseInt(e.target.value);
          if(val < 1) val = 1;
          cart[index].quantity = val;
          localStorage.setItem("cart", JSON.stringify(cart));
          updateCartDisplay();
        });

        // Remove button listener
        document.getElementById(`remove-${index}`).addEventListener("click", () => {
          cart.splice(index, 1);
          localStorage.setItem("cart", JSON.stringify(cart));
          updateCartDisplay();
        });
      });

      cartTotalDiv.innerText = "Total: ‚Çπ" + total;
    }

    updateCartDisplay();

    // Checkout button
    document.getElementById("checkoutBtn").addEventListener("click", () => {
      if(cart.length === 0){
        alert("Your cart is empty!");
        return;
      }
      localStorage.setItem("buyNow", JSON.stringify(cart));
      window.location.href = "checkout.html";
    });

    // Update cart count in header
    const cartCountSpan = document.getElementById("cartCount");
    cartCountSpan.innerText = cart.reduce((sum, item) => sum + item.quantity, 0);
  </script>

</body>
</html>
